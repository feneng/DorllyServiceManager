// <auto-generated />
using System;
using DorllyService.Domain;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

namespace DorllyServiceManager.Migrations
{
    [DbContext(typeof(DorllyServiceManagerContext))]
    [Migration("20191227031708_InitialCreate")]
    partial class InitialCreate
    {
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "3.0.0");

            modelBuilder.Entity("DorllyService.Domain.Appraise", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<bool>("Anonymous")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("AppraiseTime")
                        .HasColumnType("TEXT");

                    b.Property<string>("Content")
                        .HasColumnType("TEXT");

                    b.Property<int>("OrderId")
                        .HasColumnType("INTEGER");

                    b.Property<int>("StarClass")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("OrderId");

                    b.ToTable("Appraise");
                });

            modelBuilder.Entity("DorllyService.Domain.CategoryProperties", b =>
                {
                    b.Property<int>("CategoryId")
                        .HasColumnType("INTEGER");

                    b.Property<int>("PropertyId")
                        .HasColumnType("INTEGER");

                    b.HasKey("CategoryId", "PropertyId");

                    b.HasIndex("PropertyId");

                    b.ToTable("CategoryProperties");
                });

            modelBuilder.Entity("DorllyService.Domain.Contract", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("BelongGardenId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Content")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContractNo")
                        .HasColumnType("TEXT")
                        .HasMaxLength(48);

                    b.Property<string>("Enclosure")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<string>("FirstParty")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<string>("SecondParty")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<DateTime>("SignDate")
                        .HasColumnType("TEXT");

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.Property<int>("SupplierId")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("BelongGardenId");

                    b.HasIndex("SupplierId");

                    b.ToTable("Contract");
                });

            modelBuilder.Entity("DorllyService.Domain.Garden", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Address")
                        .HasColumnType("TEXT")
                        .HasMaxLength(512);

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.ToTable("Garden");
                });

            modelBuilder.Entity("DorllyService.Domain.Module", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("BelongSystemId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Icon")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<int>("Level")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<int>("Order")
                        .HasColumnType("INTEGER");

                    b.Property<int?>("ParentId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Path")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<bool>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("Type")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("BelongSystemId");

                    b.HasIndex("ParentId");

                    b.ToTable("Module");
                });

            modelBuilder.Entity("DorllyService.Domain.Order", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("BelongGardenId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Buyer")
                        .HasColumnType("TEXT")
                        .HasMaxLength(48);

                    b.Property<string>("BuyerAddress")
                        .HasColumnType("TEXT")
                        .HasMaxLength(256);

                    b.Property<string>("BuyerCompany")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("BuyerRemark")
                        .HasColumnType("TEXT")
                        .HasMaxLength(512);

                    b.Property<string>("ContactPhone")
                        .HasColumnType("TEXT")
                        .HasMaxLength(36);

                    b.Property<string>("ContactUser")
                        .HasColumnType("TEXT")
                        .HasMaxLength(36);

                    b.Property<string>("OrderNo")
                        .HasColumnType("TEXT")
                        .HasMaxLength(48);

                    b.Property<DateTime>("OrderTime")
                        .HasColumnType("TEXT");

                    b.Property<int>("ServiceId")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.Property<int>("SupplierId")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("BelongGardenId");

                    b.HasIndex("ServiceId");

                    b.HasIndex("SupplierId");

                    b.ToTable("Order");
                });

            modelBuilder.Entity("DorllyService.Domain.Permission", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("BelongModuleId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<string>("Description")
                        .HasColumnType("TEXT")
                        .HasMaxLength(512);

                    b.Property<string>("Icon")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<int>("Order")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Path")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<bool>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("Type")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("BelongModuleId");

                    b.ToTable("Permission");
                });

            modelBuilder.Entity("DorllyService.Domain.PropertyValue", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<bool>("Status")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.ToTable("PropertyValue");
                });

            modelBuilder.Entity("DorllyService.Domain.Role", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<string>("Description")
                        .HasColumnType("TEXT")
                        .HasMaxLength(512);

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<bool>("Status")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.ToTable("Role");
                });

            modelBuilder.Entity("DorllyService.Domain.RolePermission", b =>
                {
                    b.Property<int>("RoleId")
                        .HasColumnType("INTEGER");

                    b.Property<int>("PermissionId")
                        .HasColumnType("INTEGER");

                    b.HasKey("RoleId", "PermissionId");

                    b.HasIndex("PermissionId");

                    b.ToTable("RolePermission");
                });

            modelBuilder.Entity("DorllyService.Domain.Service", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("CategoryId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(30);

                    b.Property<string>("Description")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("UpdateDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("UpdateUserId")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("CategoryId");

                    b.HasIndex("UpdateUserId");

                    b.ToTable("Service");
                });

            modelBuilder.Entity("DorllyService.Domain.ServiceCategory", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<int>("Level")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<int?>("ParentId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Remark")
                        .HasColumnType("TEXT")
                        .HasMaxLength(512);

                    b.Property<bool>("Status")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("ParentId");

                    b.ToTable("ServiceCategory");
                });

            modelBuilder.Entity("DorllyService.Domain.ServiceProperty", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<int>("InputType")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<bool>("NotNull")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.Property<int>("Type")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.ToTable("ServiceProperty");
                });

            modelBuilder.Entity("DorllyService.Domain.ServiceSupplier", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Abbreviation")
                        .HasColumnType("TEXT")
                        .HasMaxLength(32);

                    b.Property<byte>("ApproveState")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Avatar")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<int?>("BelongGardenId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ChargePerson")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<string>("ContactPhone")
                        .HasColumnType("TEXT")
                        .HasMaxLength(48);

                    b.Property<byte>("CooperationState")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Email")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("FullName")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<int>("Level")
                        .HasColumnType("INTEGER");

                    b.Property<string>("ServiceScope")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<string>("SupplierFrom")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("WorkTel")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.HasKey("Id");

                    b.HasIndex("BelongGardenId");

                    b.ToTable("ServiceSupplier");
                });

            modelBuilder.Entity("DorllyService.Domain.SubSystem", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<string>("Description")
                        .HasColumnType("TEXT")
                        .HasMaxLength(512);

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.ToTable("SubSystem");
                });

            modelBuilder.Entity("DorllyService.Domain.SupplierLevel", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<int>("MaxScore")
                        .HasColumnType("INTEGER");

                    b.Property<int>("MinScore")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("Remark")
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.ToTable("SupplierLevel");
                });

            modelBuilder.Entity("DorllyService.Domain.SystemSetting", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Code")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<string>("DataType")
                        .HasColumnType("TEXT")
                        .HasMaxLength(24);

                    b.Property<bool>("Status")
                        .HasColumnType("INTEGER");

                    b.Property<int>("SystemId")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("Value")
                        .HasColumnType("INTEGER")
                        .HasMaxLength(512);

                    b.HasKey("Id");

                    b.HasIndex("SystemId");

                    b.ToTable("SystemSetting");
                });

            modelBuilder.Entity("DorllyService.Domain.User", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("Account")
                        .HasColumnType("TEXT")
                        .HasMaxLength(8);

                    b.Property<string>("Avatar")
                        .HasColumnType("TEXT")
                        .HasMaxLength(128);

                    b.Property<int?>("BelongGardenId")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime>("Birthday")
                        .HasColumnType("TEXT");

                    b.Property<string>("ContactPhone")
                        .HasColumnType("TEXT")
                        .HasMaxLength(48);

                    b.Property<DateTime>("CreateDate")
                        .HasColumnType("TEXT");

                    b.Property<string>("Email")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<DateTime>("LastLoginTime")
                        .HasColumnType("TEXT");

                    b.Property<string>("Name")
                        .HasColumnType("TEXT")
                        .HasMaxLength(8);

                    b.Property<string>("Password")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.Property<string>("Salt")
                        .HasColumnType("TEXT")
                        .HasMaxLength(8);

                    b.Property<byte>("Sex")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("State")
                        .HasColumnType("INTEGER");

                    b.Property<int?>("SupplierId")
                        .HasColumnType("INTEGER");

                    b.Property<byte>("UserType")
                        .HasColumnType("INTEGER");

                    b.Property<string>("WorkTel")
                        .HasColumnType("TEXT")
                        .HasMaxLength(64);

                    b.HasKey("Id");

                    b.HasIndex("BelongGardenId");

                    b.HasIndex("SupplierId");

                    b.ToTable("User");
                });

            modelBuilder.Entity("DorllyService.Domain.UserRole", b =>
                {
                    b.Property<int>("RoleId")
                        .HasColumnType("INTEGER");

                    b.Property<int>("UserId")
                        .HasColumnType("INTEGER");

                    b.HasKey("RoleId", "UserId");

                    b.HasIndex("UserId");

                    b.ToTable("UserRole");
                });

            modelBuilder.Entity("DorllyService.Domain.Appraise", b =>
                {
                    b.HasOne("DorllyService.Domain.Order", "Order")
                        .WithMany()
                        .HasForeignKey("OrderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.CategoryProperties", b =>
                {
                    b.HasOne("DorllyService.Domain.ServiceCategory", "Category")
                        .WithMany("Properties")
                        .HasForeignKey("CategoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.ServiceProperty", "Property")
                        .WithMany("Categories")
                        .HasForeignKey("PropertyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.Contract", b =>
                {
                    b.HasOne("DorllyService.Domain.Garden", "BelongGarden")
                        .WithMany()
                        .HasForeignKey("BelongGardenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.ServiceSupplier", "Supplier")
                        .WithMany()
                        .HasForeignKey("SupplierId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.Module", b =>
                {
                    b.HasOne("DorllyService.Domain.SubSystem", "BelongSystem")
                        .WithMany()
                        .HasForeignKey("BelongSystemId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.Module", "Parent")
                        .WithMany("Children")
                        .HasForeignKey("ParentId");
                });

            modelBuilder.Entity("DorllyService.Domain.Order", b =>
                {
                    b.HasOne("DorllyService.Domain.Garden", "BelongGarden")
                        .WithMany()
                        .HasForeignKey("BelongGardenId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.Service", "Service")
                        .WithMany()
                        .HasForeignKey("ServiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.ServiceSupplier", "Supplier")
                        .WithMany()
                        .HasForeignKey("SupplierId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.Permission", b =>
                {
                    b.HasOne("DorllyService.Domain.Module", "BelongModule")
                        .WithMany()
                        .HasForeignKey("BelongModuleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.RolePermission", b =>
                {
                    b.HasOne("DorllyService.Domain.Permission", "Permission")
                        .WithMany("RolePermissions")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.Role", "Role")
                        .WithMany("RolePermissions")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.Service", b =>
                {
                    b.HasOne("DorllyService.Domain.ServiceCategory", "Category")
                        .WithMany()
                        .HasForeignKey("CategoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.User", "UpdateUser")
                        .WithMany()
                        .HasForeignKey("UpdateUserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.ServiceCategory", b =>
                {
                    b.HasOne("DorllyService.Domain.ServiceCategory", "Parent")
                        .WithMany("Children")
                        .HasForeignKey("ParentId");
                });

            modelBuilder.Entity("DorllyService.Domain.ServiceSupplier", b =>
                {
                    b.HasOne("DorllyService.Domain.Garden", "BelongGarden")
                        .WithMany()
                        .HasForeignKey("BelongGardenId");
                });

            modelBuilder.Entity("DorllyService.Domain.SystemSetting", b =>
                {
                    b.HasOne("DorllyService.Domain.SubSystem", "System")
                        .WithMany()
                        .HasForeignKey("SystemId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("DorllyService.Domain.User", b =>
                {
                    b.HasOne("DorllyService.Domain.Garden", "BelongGarden")
                        .WithMany()
                        .HasForeignKey("BelongGardenId");

                    b.HasOne("DorllyService.Domain.ServiceSupplier", "Supplier")
                        .WithMany()
                        .HasForeignKey("SupplierId");
                });

            modelBuilder.Entity("DorllyService.Domain.UserRole", b =>
                {
                    b.HasOne("DorllyService.Domain.Role", "Role")
                        .WithMany("UserRoles")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DorllyService.Domain.User", "User")
                        .WithMany("UserRoles")
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });
#pragma warning restore 612, 618
        }
    }
}
